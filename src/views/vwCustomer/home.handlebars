{{#section 'css'}}
<style>
    /* --- 1. CSS CHO NAVBAR CHUẨN KHI SCROLL --- */
    /* Để khi click menu, nội dung không bị che bởi navbar sticky */
    html { scroll-behavior: smooth; scroll-padding-top: 85px; } 
    
    /* Active Link Style cho Menu */
    .nav-link.active {
        color: #2d5bff !important;
        font-weight: 700;
        border-bottom: 2px solid #2d5bff;
    }

    /* --- 2. HERO & SECTIONS STYLE --- */
    .hero-section { background-color: #eef7f9; padding: 80px 0; border-bottom-right-radius: 100px; }
    .hero-title { font-family: 'Abhaya Libre', serif; font-size: 3.5rem; font-weight: 800; color: #222; }
    .hero-img { max-width: 100%; border-radius: 20px; box-shadow: 20px 20px 0px rgba(45, 91, 255, 0.1); }
    
    .section-padding { padding: 80px 0; }
    .section-title { font-family: 'Abhaya Libre', serif; font-weight: 800; font-size: 2.5rem; text-align: center; margin-bottom: 3rem; color: #2d5bff; }

    /* --- 3. FOOTER (GIAO DIỆN CONTACT) --- */
    .footer-custom { background-color: #1a1a1a; color: #b0b0b0; padding-top: 60px; font-family: 'Roboto', sans-serif; }
    .footer-brand { font-family: 'Abhaya Libre', serif; font-size: 2rem; color: #fff; text-decoration: none; display: block; margin-bottom: 20px;}
    .footer-heading { color: #fff; font-size: 1.2rem; font-weight: 700; margin-bottom: 25px; text-transform: uppercase; position: relative; }
    .footer-heading::after { content: ''; position: absolute; left: 0; bottom: -8px; width: 40px; height: 2px; background-color: #2d5bff; }
    
    .footer-links li { margin-bottom: 12px; }
    .footer-links a { color: #b0b0b0; text-decoration: none; transition: 0.3s; display: flex; align-items: center; }
    .footer-links a:hover { color: #fff; transform: translateX(5px); }
    .contact-info-item { display: flex; align-items: flex-start; margin-bottom: 15px; }
    .contact-info-item i { color: #2d5bff; font-size: 1.2rem; margin-right: 15px; margin-top: 3px; }
    .social-links a { display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: #333; color: #fff; border-radius: 50%; margin-right: 10px; text-decoration: none; transition: 0.3s; }
    .social-links a:hover { background: #2d5bff; transform: translateY(-3px); }
    .copyright-area { background-color: #111; padding: 20px 0; margin-top: 50px; text-align: center; border-top: 1px solid #333; }
</style>
{{/section}}

<nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top py-3 px-4 shadow-sm">
    <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center fw-bold brand-text" href="#home">
            <i class="bi bi-paw-fill me-2 brand-icon text-primary"></i> PetCareUS
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNav">
            
            <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link px-3 active" href="#home">Home</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="#about">About</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="#contact">Contact</a></li>
            </ul>

            <div class="d-flex align-items-center">
                {{!-- Logic hiển thị User/Login --}}
                {{#if isAuth}}
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center text-decoration-none text-dark dropdown-toggle hidden-arrow" data-bs-toggle="dropdown">
                            <div class="text-end me-2 lh-1 d-none d-md-block">
                                <div class="fw-bold small text-uppercase">{{authUser.role}}</div>
                                <div class="text-secondary" style="font-size: 0.8rem;">{{authUser.full_name}}</div>
                            </div>
                            <i class="bi bi-person-circle fs-2 text-primary"></i>
                        </a>

                        <ul class="dropdown-menu dropdown-menu-end shadow border-0 mt-2 rounded-3">
                            <li><a class="dropdown-item py-2" href="/profile"><i class="bi bi-person me-2"></i>My Profile</a></li>
                            {{#unless (eq authUser.role 'owner')}}
                                <li><a class="dropdown-item py-2" href="/"><i class="bi bi-key me-2"></i>Change password</a></li>
                            {{/unless}}
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                <form id="frmSignOut" action="/signout" method="post" style="display: none;"></form>
                                <a class="dropdown-item py-2 text-danger fw-bold" href="javascript: document.getElementById('frmSignOut').submit();">
                                    <i class="bi bi-box-arrow-right me-2"></i>Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                {{else}}
                    <a href="/signin" class="btn btn-primary rounded-pill px-4 fw-bold" style="background-color: #2d5bff; border: none;">Login</a>
                {{/if}}
            </div>
        </div>
    </div>
</nav>

<section id="home" class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="hero-title mb-4">Comprehensive care <br>for your pet ❤️</h1>
                <p class="lead text-secondary mb-4">
                    We provide the best veterinary services, grooming, and specialized care to ensure your furry friends stay happy and healthy.
                </p>
                <div class="d-flex gap-3">
                    <button class="btn btn-primary btn-lg rounded-pill px-5 fw-bold" style="background-color: #2d5bff; border: none;" data-bs-toggle="modal" data-bs-target="#bookingModal">
                        Booking Now
                    </button>
                </div>
            </div>
            <div class="col-lg-6 text-center mt-5 mt-lg-0">
                <img src="https://img.freepik.com/free-photo/group-portrait-adorable-puppies_53876-64778.jpg" alt="Pets" class="hero-img">
            </div>
        </div>
    </div>
</section>

<section id="about" class="section-padding bg-white">
    <div class="container">
        <h2 class="section-title">Who We Are?</h2>
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="https://img.freepik.com/free-photo/veterinarian-checking-dog-s-health_23-2148983050.jpg" class="img-fluid rounded-4 shadow" alt="About Us">
            </div>
            <div class="col-md-6 mt-4 mt-md-0 ps-md-5">
                <h3 class="fw-bold mb-3" style="font-family: 'Abhaya Libre', serif;">Professional Pet Care Services</h3>
                <p class="text-secondary text-justify">
                    PetCareUS was founded with a passion for animals and a commitment to providing high-quality care. Our team consists of experienced veterinarians and pet lovers who treat every animal as if they were their own.
                </p>
                <ul class="list-unstyled mt-3">
                    <li class="mb-2"><i class="bi bi-check-circle-fill text-primary me-2"></i> Modern Facilities & Equipment</li>
                    <li class="mb-2"><i class="bi bi-check-circle-fill text-primary me-2"></i> 24/7 Emergency Support</li>
                    <li class="mb-2"><i class="bi bi-check-circle-fill text-primary me-2"></i> Experienced Veterinary Team</li>
                </ul>
                <button class="btn btn-outline-primary rounded-pill px-4 mt-3">Read More</button>
            </div>
        </div>
    </div>
</section>

<footer id="contact" class="footer-custom">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4">
                <a href="#home" class="footer-brand"><i class="bi bi-paw-fill me-2"></i>PetCareUS</a>
                <p class="mb-4">Providing the best medical care and grooming services for your beloved pets.</p>
            </div>

            <div class="col-lg-4 col-md-6 mb-4 ps-lg-5">
                <h5 class="footer-heading">Quick Links</h5>
                <ul class="list-unstyled footer-links">
                    <li><a href="#home"><i class="bi bi-chevron-right"></i> Home</a></li>
                    <li><a href="#about"><i class="bi bi-chevron-right"></i> About Us</a></li>
                    <li><a href="#contact"><i class="bi bi-chevron-right"></i> Contact</a></li>
                </ul>
            </div>

            <div class="col-lg-4 col-md-12 mb-4">
                <h5 class="footer-heading">Contact Info</h5>
                <div class="contact-info-item">
                    <i class="bi bi-geo-alt-fill"></i>
                    <div><strong class="text-white d-block">Location:</strong> 27 Nguyen Van Cu, Cho Quan Ward, Ho Chi Minh City</div>
                </div>
                <div class="contact-info-item">
                    <i class="bi bi-telephone-fill"></i>
                    <div><strong class="text-white d-block">Phone:</strong> +84 123 456 789</div>
                </div>
                <div class="contact-info-item">
                    <i class="bi bi-envelope-fill"></i>
                    <div><strong class="text-white d-block">Email:</strong> support@petcareus.com</div>
                </div>
            </div>
        </div>
    </div>
    <div class="copyright-area">
        <div class="container text-center">
            &copy; 2025 <strong class="text-white">PetCareUS</strong>. All Rights Reserved.
        </div>
    </div>
</footer>

<div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content modal-content-custom" style="max-width: 500px; margin: auto;">
            <div class="modal-header modal-header-custom">
                <h5 class="modal-title-custom">BOOKING FORM</h5>
                <button type="button" class="btn-close-custom" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-4">
                 <p class="text-center">Booking Form Content Here...</p>
            </div>
        </div>
    </div>
</div>

{{#section 'js'}}
<script>
    // Script ScrollSpy (Tự động Active Menu khi cuộn)
    document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll("section, footer");
        const navLinks = document.querySelectorAll(".navbar-nav .nav-link");

        window.addEventListener("scroll", () => {
            let current = "";
            sections.forEach((section) => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 150) {
                    current = section.getAttribute("id");
                }
            });

            navLinks.forEach((link) => {
                link.classList.remove("active");
                if (link.getAttribute("href").includes(current)) {
                    link.classList.add("active");
                }
            });
        });
    });
</script>
{{/section}}