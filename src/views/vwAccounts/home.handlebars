<section id="home" class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="hero-title mb-4">Comprehensive care <br>for your pet</h1>
                <p class="lead text-secondary mb-4">
                    We provide the best veterinary services, grooming, and specialized care...
                </p>
                <div class="d-flex gap-3">
                    <button class="btn btn-primary btn-lg rounded-pill px-5 fw-bold"
                        style="background-color: #2d5bff; border: none;" data-bs-toggle="modal"
                        data-bs-target="#bookingModal">
                        Booking Now
                    </button>
                </div>
            </div>
            <div class="col-lg-6 text-center mt-5 mt-lg-0">
                <img src="https://img.freepik.com/free-photo/group-portrait-adorable-puppies_53876-64778.jpg" alt="Pets" class="hero-img">
            </div>
        </div>
    </div>
</section>

<section id="about" class="section-padding bg-white">
    <div class="container">
        <h2 class="section-title">Who We Are?</h2>
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="https://img.freepik.com/free-photo/veterinarian-checking-dog-s-health_23-2148983050.jpg" class="img-fluid rounded-4 shadow" alt="About Us">
            </div>
            <div class="col-md-6 mt-4 mt-md-0 ps-md-5">
                <h3 class="fw-bold mb-3" style="font-family: 'Abhaya Libre', serif;">Professional Pet Care Services</h3>
                <p class="text-secondary text-justify">
                    PetCareUS was founded with a passion for animals...
                </p>
                <button class="btn btn-outline-primary rounded-pill px-4 mt-3">Read More</button>
            </div>
        </div>
    </div>
</section>

<div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content modal-content-custom" style="max-width: 500px; margin: auto;">
            <div class="modal-header modal-header-custom">
                <h5 class="modal-title-custom">BOOKING FORM</h5>
                <button type="button" class="btn-close-custom" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            {{#if isAuth}}
            <div class="modal-body p-4">
                <form id="bookingForm" method="POST" action="/account/appointment/book">
                    {{!-- Pet Selection --}}
                    <div class="mb-3">

                        {{#if pets}}
                        <select class="form-select custom-input text-uppercase text-muted fw-bold" name="pet_id"
                            style="border-radius: 50px;" required>
                            <option selected disabled>SELECT YOUR PET</option>
                            {{#each pets}}
                            <option value="{{this.pet_id}}">{{this.name}}</option>
                            {{/each}}
                        </select>
                        {{else}}
                        <div class="alert alert-warning">You have no pets registered.</div>
                        {{/if}} 

                    </div>

                    {{!-- Date & Time --}}
                    <div class="row mb-3">
                        <div class="col-6">
                            <input type="text" class="form-control custom-input text-uppercase text-muted fw-bold"
                                name="date_start" placeholder="DATE" onfocus="(this.type='date')"
                                onblur="(this.type='text')" style="border-radius: 50px;" required>
                        </div>
                        <div class="col-6">
                            <input type="text" class="form-control custom-input text-uppercase text-muted fw-bold"
                                name="time" placeholder="TIME" onfocus="(this.type='time')" onblur="(this.type='text')"
                                style="border-radius: 50px;" required>
                        </div>
                    </div>

                    {{!-- Services Selection (Multiple) --}}
                    <div class="mb-3">
                        <label class="form-label fw-bold text-uppercase text-muted" style="font-size: 0.9rem;">Select
                            Services:</label>
                        {{#if serviceList}}
                        <div
                            style="border: 2px solid #000; border-radius: 20px; padding: 20px 40px; background-color: #fff; max-height: 150px; overflow-y: auto;">
                            {{#each serviceList}}
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="services"
                                    value="{{this.service_id}}" id="service_{{this.service_id}}">
                                <label class="form-check-label fw-bold" for="service_{{this.service_id}}">
                                    {{this.service_name}}
                                </label>
                            </div>
                            {{/each}}
                        </div>
                        {{else}}
                            <div class="alert alert-warning">No services available.</div>
                        {{/if}}
                    </div>

                    {{!-- Note --}}
                    <div class="mb-4">
                        <textarea class="form-control custom-input text-muted" name="note"
                            placeholder="Note something..." rows="5"
                            style="border-radius: 20px; resize: none;"></textarea>
                    </div>

                    {{!-- Submit Button --}}
                    <div class="text-end">
                        <button type="submit" class="btn btn-outline-primary px-4 py-2 fw-bold"
                            style="border-radius: 10px; border-width: 2px;">SUBMIT</button>
                    </div>
                </form>
            </div>
            {{else}}
                <div class="modal-body p-4">
                    <div class="alert alert-info">Please <a href="/signin">login</a> or <a href="/signup">sign up</a> to book an appointment.</div>
                </div>
            {{/if}}
        </div>
    </div>
</div>