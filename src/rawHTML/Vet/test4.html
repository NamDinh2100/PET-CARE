<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản Lý Đơn Thuốc</title>
    <!-- Tải Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Cấu hình Tailwind cho font, màu sắc, viền, và bóng đổ tùy chỉnh
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-green': '#348D44',
                        'brand-red': '#852221', // Màu cho nút đóng (M3/sys/light/on-error-container)
                        'border-gray': '#B1A4A4', // Màu viền chính
                        'header-gray': '#D9D9D9', // Màu nền Header
                    },
                    borderWidth: {
                        '3': '3px',
                        '4': '4px',
                    },
                    boxShadow: {
                        'custom': '0px 4px 10px rgba(0, 0, 0, 0.25)',
                    },
                    fontFamily: {
                        // Sử dụng Inter và Abhaya Libre
                        sans: ['Inter', 'Abhaya Libre', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Tải font Inter */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        
        /* Định nghĩa border-3px và border-4px */
        .border-3 { border-width: 3px; }
        .border-4 { border-width: 4px; }
        
        /* Đảm bảo các input có viền và bóng đổ đúng chuẩn */
        input:focus, textarea:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); /* Blue focus ring for better UX */
        }
    </style>
</head>
<body class="bg-gray-200 min-h-screen flex items-center justify-center p-4">

    <!-- Modal Overlay -->
    <div class="fixed inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center p-4 z-50">

        <!-- Container Chính (USER) - Popup Box -->
        <div class="relative w-full max-w-6xl bg-white border-4 border-border-gray rounded-3xl shadow-2xl p-0 overflow-hidden">
            
            <!-- Header (Rectangle 34) -->
            <header class="h-20 bg-header-gray flex items-center justify-center relative border-b-4 border-border-gray">
                <!-- Title -->
                <h1 class="text-3xl md:text-4xl font-extrabold text-black font-sans tracking-wide">
                    QUẢN LÝ ĐƠN THUỐC
                </h1>
                
                <!-- Cancel Icon (nút đóng) -->
                <button onclick="hideModal()"
                        class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 p-2 bg-brand-red hover:bg-red-800 text-white rounded-full transition duration-150 shadow-lg" 
                        aria-label="Đóng Popup">
                    <svg class="w-full h-full" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
            </header>

            <!-- Form Nội dung chính -->
            <main class="p-6 md:p-8 space-y-6 md:space-y-8">

                <!-- Phần 1: THUỐC (MEDICINE) -->
                <section class="space-y-4">
                    <h2 class="text-2xl md:text-3xl font-bold text-black">DANH SÁCH THUỐC</h2>
                    
                    <div class="relative w-full">
                        <!-- Search Bar -->
                        <div class="flex justify-end mb-4">
                            <input type="text" placeholder="Tìm kiếm..."
                                class="w-full md:w-1/3 h-10 px-4 py-2 border-3 border-black rounded-full text-lg shadow-custom focus:border-blue-500 transition duration-150 opacity-90">
                        </div>
                        
                        <!-- Medicine Table (Rectangle 9) -->
                        <div class="w-full min-h-24 max-h-56 overflow-y-auto bg-white border-3 border-black shadow-custom rounded-xl p-4">
                            <!-- Placeholder Table Header -->
                            <div class="grid grid-cols-6 text-center font-bold text-gray-700 border-b pb-2 mb-2">
                                <div class="col-span-2 text-left">Tên thuốc</div>
                                <div>SL</div>
                                <div>ĐVT</div>
                                <div>Liều lượng</div>
                                <div>Chọn</div>
                            </div>
                            <!-- Placeholder Data Rows -->
                            <div class="grid grid-cols-6 text-center items-center py-2 hover:bg-gray-50">
                                <span class="col-span-2 text-left text-gray-800">Paracetamol 500mg</span>
                                <span>10</span>
                                <span>Viên</span>
                                <span>2 lần/ngày</span>
                                <input type="checkbox" class="w-4 h-4 text-brand-green border-gray-300 rounded focus:ring-brand-green">
                            </div>
                            <div class="grid grid-cols-6 text-center items-center py-2 hover:bg-gray-50">
                                <span class="col-span-2 text-left text-gray-800">Amoxicillin 250mg</span>
                                <span>12</span>
                                <span>Gói</span>
                                <span>3 lần/ngày</span>
                                <input type="checkbox" checked class="w-4 h-4 text-brand-green border-gray-300 rounded focus:ring-brand-green">
                            </div>
                            <div class="grid grid-cols-6 text-center items-center py-2 hover:bg-gray-50">
                                <span class="col-span-2 text-left text-gray-800">Vitamin C</span>
                                <span>30</span>
                                <span>Viên</span>
                                <span>1 lần/ngày</span>
                                <input type="checkbox" class="w-4 h-4 text-brand-green border-gray-300 rounded focus:ring-brand-green">
                            </div>
                            <div class="grid grid-cols-6 text-center items-center py-2 hover:bg-gray-50">
                                <span class="col-span-2 text-left text-gray-800">Thuốc bôi ngoài da (A)</span>
                                <span>1</span>
                                <span>Tuýp</span>
                                <span>2 lần/ngày</span>
                                <input type="checkbox" checked class="w-4 h-4 text-brand-green border-gray-300 rounded focus:ring-brand-green">
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Phần 2: TRIỆU CHỨNG (SYMPTOM) & CHẨN ĐOÁN (DIAGNOSIS) -->
                <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- SYMPTION (Rectangle 35) -->
                    <div class="space-y-2">
                        <label for="symptom" class="text-2xl md:text-3xl font-bold text-black">TRIỆU CHỨNG</label>
                        <input type="text" id="symptom" placeholder="Nhập triệu chứng chính"
                               class="w-full h-18 px-4 py-2 border-3 border-black shadow-custom rounded-xl text-lg transition duration-150">
                    </div>
                    
                    <!-- DIANOSIS (Rectangle 36) -->
                    <div class="space-y-2">
                        <label for="diagnosis" class="text-2xl md:text-3xl font-bold text-black">CHẨN ĐOÁN</label>
                        <input type="text" id="diagnosis" placeholder="Nhập chẩn đoán bệnh"
                               class="w-full h-18 px-4 py-2 border-3 border-black shadow-custom rounded-xl text-lg transition duration-150">
                    </div>
                </section>

                <!-- Phần 3: HƯỚNG DẪN (INSTRUCTION) -->
                <section class="space-y-4">
                    <h2 class="text-2xl md:text-3xl font-bold text-black">HƯỚNG DẪN</h2>
                    
                    <!-- Instruction Textarea (Rectangle 37) -->
                    <textarea id="instruction-note" rows="4" placeholder="Nhập hướng dẫn sử dụng thuốc chi tiết..."
                              class="w-full h-40 min-h-[160px] p-4 border-3 border-black shadow-custom rounded-xl resize-none text-lg transition duration-150"></textarea>
                </section>

                <!-- Action Button (SAVE) -->
                <div class="flex justify-end pt-4">
                    <button onclick="showModal('Lưu Đơn Thuốc', 'Đơn thuốc đã được tạo và lưu thành công. Có thể in hoặc gửi cho khách hàng.', 'success')"
                            class="w-full sm:w-48 h-18 py-3 px-6 bg-white border-3 border-brand-green shadow-custom rounded-xl text-brand-green text-3xl md:text-4xl font-bold hover:bg-green-50 transition duration-150 active:scale-[.98]">
                        LƯU
                    </button>
                </div>

            </main>
            
        </div>
    </div>

    <!-- Modal tùy chỉnh (Thực tế, popup này là một Modal, nhưng cần hàm để hiển thị thông báo) -->
    <div id="app-toast-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 hidden items-center justify-center z-[100]">
        <div class="bg-white rounded-xl p-6 shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-95" id="toast-content">
            <h3 class="text-xl font-bold mb-4" id="toast-title">Thông báo</h3>
            <p class="text-gray-600 mb-6" id="toast-body">Nội dung thông báo...</p>
            <div class="flex justify-end space-x-3">
                <button class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-150" onclick="hideModal()">Đóng</button>
            </div>
        </div>
    </div>

    <script>
        // --- Chức năng Modal tùy chỉnh ---
        // Lưu ý: Popup chính này thường sẽ được quản lý bởi hàm gọi khác (ví dụ: showMedicinePopup), 
        // nhưng tôi sử dụng hàm này để mô phỏng thông báo (Toast/Success/Error)
        function showModal(title, body, type = 'info') {
            const modal = document.getElementById('app-toast-modal');
            const titleElement = document.getElementById('toast-title');
            document.getElementById('toast-body').textContent = body;
            titleElement.textContent = title;
            
            // Cập nhật màu sắc tiêu đề
            titleElement.classList.remove('text-blue-600', 'text-red-600', 'text-gray-800');
            if (type === 'success') {
                titleElement.classList.add('text-blue-600');
            } else if (type === 'error') {
                titleElement.classList.add('text-red-600');
            } else {
                titleElement.classList.add('text-gray-800');
            }

            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Thêm hiệu ứng animation
            setTimeout(() => {
                document.getElementById('toast-content').classList.remove('scale-95');
                document.getElementById('toast-content').classList.add('scale-100');
            }, 50);
        }

        function hideModal() {
            const modal = document.getElementById('app-toast-modal');
            if (modal.classList.contains('flex')) {
                document.getElementById('toast-content').classList.remove('scale-100');
                document.getElementById('toast-content').classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.remove('flex');
                    modal.classList.add('hidden');
                }, 300);
            } else {
                 // Nếu người dùng đóng popup chính (tưởng tượng popup chính là modal), 
                 // cần thêm logic để ẩn nó (nhưng hiện tại nó là static content)
                 console.log("Đóng giao diện Quản lý Đơn thuốc");
            }
        }
    </script>
</body>
</html>